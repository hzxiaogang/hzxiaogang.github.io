import{_ as e,o,c as d,V as l}from"./chunks/framework.364d6ed5.js";const a="/date.png",h=JSON.parse('{"title":"时间和日期","description":"","frontmatter":{"title":"时间和日期","date":"2022-09-23T18:06:54.000Z","permalink":"/pages/7160f9/","categories":["java","mysql"],"tags":[null]},"headers":[],"relativePath":"java/mysql/时间和日期.md","filePath":"java/mysql/时间和日期.md","lastUpdated":1685806707000}'),t={name:"java/mysql/时间和日期.md"},c=l('<h1 id="时间和日期" tabindex="-1">时间和日期 <a class="header-anchor" href="#时间和日期" aria-label="Permalink to &quot;时间和日期&quot;">​</a></h1><img src="'+a+'"><h2 id="_1-当前日期-current-date" tabindex="-1">1. 当前日期 current_date() <a class="header-anchor" href="#_1-当前日期-current-date" aria-label="Permalink to &quot;1. 当前日期 current_date()&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p><code>current_date()</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT current_date() from DUAL</code></p><h2 id="_2-当前时间-current-time" tabindex="-1">2. 当前时间 current_time() <a class="header-anchor" href="#_2-当前时间-current-time" aria-label="Permalink to &quot;2. 当前时间 current_time()&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p><code>current_time()</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT CURRENT_TIME() FROM DUAL</code></p><h2 id="_3-当前时间戳-current-timestamp-now" tabindex="-1">3. 当前时间戳 current_timestamp()/now() <a class="header-anchor" href="#_3-当前时间戳-current-timestamp-now" aria-label="Permalink to &quot;3. 当前时间戳 current_timestamp()/now()&quot;">​</a></h2><p>返回的是<strong>当前的日期和时间</strong>，如<code>2022-09-25 08:20:08</code></p><ul><li><ol><li>语法</li></ol></li></ul><p><code>current_timestamp()</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT current_timestamp() FROM DUAL</code></p><p><code>SELECT now() FROM DUAL</code></p><p>给<code>mes</code>表，插入一条新闻</p><p><code>INSERT INTO mes VALUES(1,&#39;北京新闻&#39;,CURRENT_TIMESTAMP())</code></p><h2 id="_4-获取日期-date" tabindex="-1">4 获取日期 date() <a class="header-anchor" href="#_4-获取日期-date" aria-label="Permalink to &quot;4 获取日期 date()&quot;">​</a></h2><p>获取参数<code>datetime</code>的<strong>日期</strong>部分的数据</p><ul><li><ol><li>语法</li></ol></li></ul><p><code>date(datetime)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>获取所有新闻信息，发布日期只显示 <strong>日期</strong>，不显示时间</p><p><code>select id, content,date(send_time) from mes</code></p><h3 id="_4-1-year-month-day" tabindex="-1">4.1 year(),month(),day() <a class="header-anchor" href="#_4-1-year-month-day" aria-label="Permalink to &quot;4.1 year(),month(),day()&quot;">​</a></h3><p>获取日期的<code>年</code>，<code>月</code>，<code>日</code></p><ul><li><ol><li>语法</li></ol></li></ul><p><code>year(datetime)</code>,<code>month(datetime)</code>,<code>day(datetime)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT year(&#39;2022-08-11&#39;) from DUAL</code><code>SELECT month(&#39;2022-08-11&#39;) from DUAL</code><code>SELECT day(&#39;2022-08-11&#39;) from DUAL</code></p><h3 id="_4-2-unix-timestamp" tabindex="-1">4.2 UNIX_TIMESTAMP() <a class="header-anchor" href="#_4-2-unix-timestamp" aria-label="Permalink to &quot;4.2  UNIX_TIMESTAMP()&quot;">​</a></h3><p>返回的是<code>1970-1-1</code> 到现在的秒数（时间戳）</p><ul><li><ol><li>语法</li></ol></li></ul><p><code>UNIX_TIMESTAMP()</code></p><ul><li>案例</li></ul><p>查询<code>1970年</code>到现在经过了多少年</p><p><code>SELECT UNIX_TIMESTAMP()/(24*60*60*365) from dual</code></p><h3 id="_4-3-from-unixtime" tabindex="-1">4.3 FROM_UNIXTIME() <a class="header-anchor" href="#_4-3-from-unixtime" aria-label="Permalink to &quot;4.3 FROM_UNIXTIME()&quot;">​</a></h3><p>把一个<code>UNIX_TIMESTAMP</code>秒数（时间戳），转成指定格式日期</p><ul><li><ol><li>语法</li></ol></li></ul><p><code>FROM_UNIXTIME(unix_timestamp)</code></p><p><code>FROM_UNIXTIME(unix_timestamp,format)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>%Y-%m-%d %H:%i:%s</code> 格式是规定好的，表示年，月，日，时，分，秒</p><p><code>SELECT FROM_UNIXTIME(2156456,&#39;%Y-%m-%d %H:%i:%s&#39;) from DUAL</code></p><p>在实际开发中，我们经常使用<code>int</code>来保存一个<code>unix</code>时间戳，然后用<code>from_unixtime()</code>进行转换</p><h2 id="_5-dete-add" tabindex="-1">5 dete_add() <a class="header-anchor" href="#_5-dete-add" aria-label="Permalink to &quot;5 dete_add()&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p>在 <code>date</code>上加上<code>日期</code>或<code>时间</code></p><p><code>unit</code> ： 单位，可取值年，月，日，时，分，秒。如：<code>YEAR</code>,<code>MONTH</code>,<code>DAY</code>, <code>HOUR</code>,<code>MINUTE</code>,<code>SECOND</code></p><p><code>DATE_ADD(date,INTERVAL expr unit)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>查询<code>10</code>分钟内发布的新闻</p><p><code>SELECT * from mes WHERE DATE_ADD(send_time,INTERVAL 10 MINUTE) &gt;= now();</code></p><h2 id="_6-date-sub" tabindex="-1">6 date_sub <a class="header-anchor" href="#_6-date-sub" aria-label="Permalink to &quot;6 date_sub&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p>在 <code>date1</code>上减去一个时间</p><p><code>unit</code> ： 单位，可取值年，月，日，时，分，秒。如：<code>YEAR</code>,<code>MONTH</code>,<code>DAY</code>, <code>HOUR</code>,<code>MINUTE</code>,<code>SECOND</code></p><p><code>DATE_SUB(date1,INTERVAL expr unit)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>查询<code>10</code>分钟内发布的新闻</p><p><code>SELECT * from mes WHERE send_time &gt;= DATE_SUB(now(),INTERVAL 10 MINUTE)</code></p><h2 id="_7-日期差-datediff" tabindex="-1">7. 日期差 datediff() <a class="header-anchor" href="#_7-日期差-datediff" aria-label="Permalink to &quot;7. 日期差 datediff()&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p>获取两个日期差（结果是天）,可以是<code>f负数</code></p><p><code>datediff(data1,date2)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>请在<code>mysql</code>的<code>sql</code>语句中，求出<code>2011-11-11</code> 和<code>1990-1-1</code>相差多少<strong>天</strong></p><p><code>SELECT DATEDIFF(&#39;2011-11-11&#39;,&#39;1980-01-01&#39;) from DUAL;</code></p><p>请在<code>mysql</code>的<code>sql</code>语句中，求出<code>2011-11-11</code> 和<code>1990-1-1</code>相差多少<strong>年</strong></p><p><code>SELECT DATEDIFF(&#39;2011-11-11&#39;,&#39;1980-01-01&#39;) / 365 from DUAL;</code></p><p>假如你<code>1986-11-11</code>出生，能活到<code>80</code>岁，求出你还能活多少天？</p><p><code>SELECT DATEDIFF(DATE_ADD(&#39;1986-11-11&#39;,INTERVAL 80 YEAR),NOW()) from DUAL</code></p><h2 id="_8-timediff-expr1-expr2" tabindex="-1">8. TIMEDIFF(expr1,expr2) <a class="header-anchor" href="#_8-timediff-expr1-expr2" aria-label="Permalink to &quot;8. TIMEDIFF(expr1,expr2)&quot;">​</a></h2><p>获取时间的时间差</p><ul><li><ol><li>语法</li></ol></li></ul><p><code>TIMEDIFF(expr1,expr2)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT TIMEDIFF(&#39;10:11:11&#39;,&#39;06:22:33&#39;) from DUAL</code></p>',83),i=[c];function r(p,n,u,s,m,_){return o(),d("div",null,i)}const T=e(t,[["render",r]]);export{h as __pageData,T as default};
