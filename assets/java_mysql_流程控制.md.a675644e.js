import{_ as s,o as a,c as n,V as l}from"./chunks/framework.364d6ed5.js";const F=JSON.parse('{"title":"流程控制","description":"","frontmatter":{"title":"流程控制","date":"2022-09-23T18:08:21.000Z","permalink":"/pages/dcd10b/","categories":["java","mysql"],"tags":[null]},"headers":[],"relativePath":"java/mysql/流程控制.md","filePath":"java/mysql/流程控制.md","lastUpdated":1685806707000}'),p={name:"java/mysql/流程控制.md"},e=l(`<h1 id="流程控制" tabindex="-1">流程控制 <a class="header-anchor" href="#流程控制" aria-label="Permalink to &quot;流程控制&quot;">​</a></h1><h2 id="_1-if" tabindex="-1">1 if <a class="header-anchor" href="#_1-if" aria-label="Permalink to &quot;1 if&quot;">​</a></h2><p>如果 <code>expr1</code>为<code>true</code>，则返回<code>expr2</code> 否则返回<code>expr3</code></p><ul><li><ol><li>语法</li></ol></li></ul><p><code>if(expr1,expr2,expr3)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT IF(true,&#39;北京&#39;,&#39;上海&#39;)</code></p><p>如果数学成绩大于<code>90</code>显示高分数，否则显示低分数</p><p><code>SELECT name,math ,if(math&gt;90,&#39;高分数&#39;,&#39;低分数&#39;) as details from student</code></p><h2 id="_2-case-when" tabindex="-1">2. case when <a class="header-anchor" href="#_2-case-when" aria-label="Permalink to &quot;2. case when&quot;">​</a></h2><p>准备测试表</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">empt</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">25</span><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  dept </span><span style="color:#C792EA;">INT</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  salary </span><span style="color:#F78C6C;">FLOAT</span></span>
<span class="line"><span style="color:#A6ACCD;"> )</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> empt (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,dept,salary) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">tom</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> empt (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,dept,salary) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">jack</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">3000</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> empt (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,dept,salary) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">mike</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">4000</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> empt (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,dept,salary) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">rose</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">5000</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li><ol><li>语法</li></ol></li></ul><p>相当于<code>java</code>的 <code>if-else-if ... else 语句</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> exp11 </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> value1 </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> expl2 </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> value2</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> expl3 </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> value3</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...</span></span>
<span class="line"><span style="color:#A6ACCD;">  [ELSE result]</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">end</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>给数学成绩划分级别</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> ,</span></span>
<span class="line"><span style="color:#A6ACCD;">  dept , </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">CASE</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> salary</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">4000</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">then</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">高工资</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> salary</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">3000</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">THEN</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">中等工资</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> salary</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F78C6C;">2000</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">then</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">低工资</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">ELSE</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">打杂工资</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">end</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">工资级别</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> empt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>给部门1工资加<code>100</code>，部门2工资加<code>200</code>，部门3工资加<code>300</code></p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> ,</span></span>
<span class="line"><span style="color:#A6ACCD;">  dept , </span></span>
<span class="line"><span style="color:#A6ACCD;"> salary,</span></span>
<span class="line"><span style="color:#F78C6C;">case</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> dept</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">then</span><span style="color:#A6ACCD;"> salary </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> dept</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">then</span><span style="color:#A6ACCD;"> salary </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">200</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">WHEN</span><span style="color:#A6ACCD;"> dept</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">then</span><span style="color:#A6ACCD;"> salary </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">300</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">ELSE</span><span style="color:#A6ACCD;"> salary</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">end</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> empt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_3-ifnull" tabindex="-1">3. ifnull <a class="header-anchor" href="#_3-ifnull" aria-label="Permalink to &quot;3. ifnull&quot;">​</a></h2><ul><li><ol><li>语法</li></ol></li></ul><p>如果<code>expr1</code>不为<code>null</code>，则返回<code>expr1</code>，否则返回<code>expr2</code></p><p><code>ifnull(expr1,expr2)</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p><code>SELECT IFNULL(null,&#39;学习mysql&#39;) from DUAL</code></p><p>根据工龄发奖金</p><p><code>SELECT name , salary * (1 + ifnull( work_aged , 0)) * 12 from empt</code></p>`,28),o=[e];function r(c,C,t,y,A,i){return a(),n("div",null,o)}const d=s(p,[["render",r]]);export{F as __pageData,d as default};
