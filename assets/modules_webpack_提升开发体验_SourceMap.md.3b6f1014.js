import{_ as s,o as a,c as n,V as l}from"./chunks/framework.364d6ed5.js";const D=JSON.parse('{"title":"SourceMap","description":"","frontmatter":{"title":"SourceMap","date":"2022-07-09T15:55:36.000Z","permalink":"/pages/e68a47/","categories":["modules","webpack","高级","提升开发体验"],"tags":[null]},"headers":[],"relativePath":"modules/webpack/提升开发体验/SourceMap.md","filePath":"modules/webpack/提升开发体验/SourceMap.md","lastUpdated":1685623283000}'),o={name:"modules/webpack/提升开发体验/SourceMap.md"},e=l(`<h2 id="_1-为什么" tabindex="-1">1. 为什么 <a class="header-anchor" href="#_1-为什么" aria-label="Permalink to &quot;1. 为什么&quot;">​</a></h2><p>开发时我们运行的代码是经过<code>webpack</code>编译后的，例如下面这个样子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-diff"><code><span class="line"><span style="color:#676E95;font-style:italic;">/*</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * ATTENTION: The &quot;eval&quot; devtool has been used (maybe by default in mode: &quot;development&quot;).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * This devtool is neither made for production nor for readable output files.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * It uses &quot;eval()&quot; calls to create a separate source file in the browser devtools.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * or disable the default devtool with &quot;devtool: false&quot;.</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> * If you are looking for production-ready output files, see mode: &quot;production&quot; (https://webpack.js.org/configuration/mode/).</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"> */</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/******/</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// webpackBootstrap</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/******/</span><span style="color:#F07178;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">use strict</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/******/</span><span style="color:#F07178;">  </span><span style="color:#C792EA;">var</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">__webpack_modules__</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/***/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/*!**********************************************************************************************************!*\\</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js!./src/less/index.less ***!</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  \\**********************************************************************************************************/</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/***/</span><span style="color:#F07178;"> (</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">module</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_exports__</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">__webpack_require__</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">eval</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">__webpack_require__.r(__webpack_exports__);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony export */ __webpack_require__.d(__webpack_exports__, {</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony export */   </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">: () =&gt; (__WEBPACK_DEFAULT_EXPORT__)</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony export */ });</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/noSourceMaps.js */ </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">./node_modules/css-loader/dist/runtime/noSourceMaps.js</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony import */ var _node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../node_modules/css-loader/dist/runtime/api.js */ </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">./node_modules/css-loader/dist/runtime/api.js</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Imports</span><span style="color:#A6ACCD;">\\n\\n\\n</span><span style="color:#C3E88D;">var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Module</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">___CSS_LOADER_EXPORT___.push([module.id, </span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">.box2 {</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n  width: 100px;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n  height: 100px;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n  background-color: deeppink;</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n}</span><span style="color:#A6ACCD;">\\\\</span><span style="color:#C3E88D;">n</span><span style="color:#A6ACCD;">\\&quot;</span><span style="color:#C3E88D;">, </span><span style="color:#A6ACCD;">\\&quot;\\&quot;</span><span style="color:#C3E88D;">]);</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">// Exports</span><span style="color:#A6ACCD;">\\n</span><span style="color:#C3E88D;">/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);</span><span style="color:#A6ACCD;">\\n\\n\\n</span><span style="color:#C3E88D;">//# sourceURL=webpack://webpack5/./src/less/index.less?./node_modules/css-loader/dist/cjs.js!./node_modules/less-loader/dist/cjs.js</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">/***/</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 其他省略</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>所有<code>css</code>和<code>js</code>合并成了一个文件，并且多了很多代码。此时如果代码运行出错，那么提示代码错误位置我们是看不懂的。 一旦将来开发文件很多，那么就很难去发现错误出现在哪里。所以我们需要更加准确的<strong>错误提示</strong>，来帮助我们更好的开发代码。</p><h2 id="_2-是什么" tabindex="-1">2. 是什么 <a class="header-anchor" href="#_2-是什么" aria-label="Permalink to &quot;2. 是什么&quot;">​</a></h2><p><code>SourceMap</code>（源代码映射）是一个用来生成源代码与构建后代码映射文件的方案。它会生成一个 <code>xxx.map</code> 文件，里面包含源代码和构建后代码<strong>每一行</strong>、<strong>每一列</strong>的映射关系。当构建后代码出错了，会通过 <code>xxx.map</code> 文件，从构建后代码出错位置找到映射后源代码出错位置，从而让浏览器提示源代码文件出错位置，帮助我们更快的找到错误根源</p><h2 id="_3-怎么用" tabindex="-1">3. 怎么用 <a class="header-anchor" href="#_3-怎么用" aria-label="Permalink to &quot;3. 怎么用&quot;">​</a></h2><p>通过查看<a href="https://webpack.docschina.org/configuration/devtool/" target="_blank" rel="noreferrer">webpack devTool文档</a>可知。<code>SourceMap</code>的值有很多中情况。但是在实际开发时我们只需关注两种情况即可：</p><h3 id="_3-1-开发模式" tabindex="-1">3.1 开发模式 <a class="header-anchor" href="#_3-1-开发模式" aria-label="Permalink to &quot;3.1 开发模式&quot;">​</a></h3><p><code>cheap-module-source-map</code>:</p><ul><li>优点 ：打包编译速度快，只包含行映射</li><li>缺点 ：没有列映射</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 其他省略</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cheap-module-source-map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-2-生产模式" tabindex="-1">3.2 生产模式 <a class="header-anchor" href="#_3-2-生产模式" aria-label="Permalink to &quot;3.2 生产模式&quot;">​</a></h3><p><code>source-map</code></p><ul><li><ol><li>优点：包含行/列映射</li></ol></li><li><ol start="2"><li>缺点：打包编译速度更慢</li></ol></li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;">// 其他省略</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mode</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">production</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">devtool</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">source-map</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,16),p=[e];function t(r,c,i,_,y,d){return a(),n("div",null,p)}const C=s(o,[["render",t]]);export{D as __pageData,C as default};
