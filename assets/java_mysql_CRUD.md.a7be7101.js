import{_ as l,o as s,c as o,V as a}from"./chunks/framework.364d6ed5.js";const e="/where.png",m=JSON.parse('{"title":"CRUD","description":"","frontmatter":{"title":"CRUD","date":"2022-09-20T23:07:17.000Z","permalink":"/pages/fa6167/","categories":["java","mysql"],"tags":[null]},"headers":[],"relativePath":"java/mysql/CRUD.md","filePath":"java/mysql/CRUD.md","lastUpdated":1685806707000}'),n={name:"java/mysql/CRUD.md"},p=a(`<h1 id="crud" tabindex="-1">CRUD <a class="header-anchor" href="#crud" aria-label="Permalink to &quot;CRUD&quot;">​</a></h1><h2 id="_1-insert" tabindex="-1">1. Insert <a class="header-anchor" href="#_1-insert" aria-label="Permalink to &quot;1. Insert&quot;">​</a></h2><p>使用 <code>INSERT INTO</code>向数据库插入数据，如果数据是字符型，必须使用单引号或者双引号，如：&quot;value&quot;。</p><blockquote><p>语法：</p></blockquote><p><code>INSERT INTO table_name ( field1, field2,...fieldN ) VALUES ( value1, value2,...valueN );</code></p><blockquote><p>案例</p></blockquote><ul><li><ol><li>向 user 表插入两个字段信息</li></ol></li></ul><p><code>insert INTO</code>user<code>(id,name) VALUES(1,&quot;张三&quot;)</code></p><blockquote><p>注意事项</p></blockquote><ul><li><ol><li>插入的数据应该与字段的数据类型相同</li></ol></li><li><ol start="2"><li>数据的长度在列的规定范围内。例如不能将一个长度为 80 的字符串加入到长度为 40 的列中</li></ol></li><li><ol start="3"><li>在<code>values</code>中列出的数据位置必须与加入的列的排列位置相对应</li></ol></li><li><ol start="4"><li>字符和日期类型数据应包含在<strong>单引号</strong>中</li></ol></li><li><ol start="5"><li>列可以插入空值，前提是该字段允许为空 <code>insert into user value(null)</code></li></ol></li><li><ol start="6"><li><code>insert into tab_name (列名...) values (),(),()</code> 形似添加多条记录</li></ol></li><li><ol start="7"><li>如果是给表中的所有字段添加数据，可以不写前面的字段名称</li></ol></li><li><ol start="8"><li>默认值的使用，当不给某个字段值时，如果有默认值就会添加默认值，否则报错。</li></ol><ul><li>如果某个列，没有指定 <code>not null</code>,那么添加数据时，没有给定值，则会默认给 <code>null</code></li></ul></li></ul><h2 id="_2-update" tabindex="-1">2. Update <a class="header-anchor" href="#_2-update" aria-label="Permalink to &quot;2. Update&quot;">​</a></h2><p>使用<code>UPDATE</code>命令更新数据</p><blockquote><p>语法</p></blockquote><p><code>UPDATE table_name SET field1=new-value1, field2=new-value2 [WHERE Clause]</code></p><ul><li><ol><li>Clause : 字句</li></ol></li><li><ol start="2"><li>你可以同时更新一个或多个字段。</li></ol></li><li><ol start="3"><li>你可以在 <code>WHERE</code> 子句中指定<strong>任何条件</strong>。</li></ol></li></ul><blockquote><p>案例</p></blockquote><ul><li><ol><li>将 <code>id</code> 为 <code>1</code> 的数据 <code>name</code>修改为&quot;张三&quot;，<code>age</code>修改为 33</li></ol></li></ul><p><code>UPDATE</code>user<code>set</code>name<code>= &quot;张三&quot; ,age = 33 where id =1;</code></p><blockquote><p>注意事项</p></blockquote><ul><li><ol><li><code>UPDATE</code> 语法可以用<strong>新值</strong>更新原有表<strong>行中的列</strong></li></ol></li><li><ol start="2"><li><code>SET</code>字句指示要修改那些列和要给予那些新值</li></ol></li><li><ol start="3"><li><code>WHERE</code>字句指定应该更新那些行，如果没有<code>WHERE</code>字句，则更新所有的行</li></ol></li><li><ol start="4"><li>如果要修改多个字段，可以通过 <code>set 字段1=值1</code>，<code>字段2=值2</code> ....</li></ol></li></ul><h2 id="_3-delete" tabindex="-1">3. Delete <a class="header-anchor" href="#_3-delete" aria-label="Permalink to &quot;3. Delete&quot;">​</a></h2><p>使用<code>DELETE FROM</code>命令删除数据</p><blockquote><p>语法</p></blockquote><p><code>DELETE FROM table_name [WHERE Clause]</code></p><blockquote><p>案例</p></blockquote><ul><li><ol><li>删除 user 表中所有的数据</li></ol></li></ul><p><code>DELETE FROM user;</code></p><ul><li><ol start="2"><li>删除 user 表中 id 为 1 的数据</li></ol></li></ul><p><code>DELETE from</code>user<code>WHERE id =1;</code></p><blockquote><p>注意事项</p></blockquote><ul><li><ol><li>如果不使用<code>where</code>字句，将删除表中所有数据</li></ol></li><li><ol start="2"><li><code>delete from</code> 语句不能删除某一列的值，（可使用<code>update</code>设为 null 或者&#39;&#39;）</li></ol></li><li><ol start="3"><li><code>delete from</code> 语句仅删除记录，不删除表本身</li></ol></li></ul><h2 id="_4-select" tabindex="-1">4. Select <a class="header-anchor" href="#_4-select" aria-label="Permalink to &quot;4. Select&quot;">​</a></h2><blockquote><p>准备工作，创建 表 student,并插入数据</p></blockquote><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;"> 创建表</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">student</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">  id </span><span style="color:#C792EA;">INT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">VARCHAR</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  chinese </span><span style="color:#F78C6C;">FLOAT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  english </span><span style="color:#F78C6C;">FLOAT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  math </span><span style="color:#F78C6C;">FLOAT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">DEFAULT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">.</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">CHARACTER</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">SET</span><span style="color:#A6ACCD;"> utf8 </span><span style="color:#C792EA;">COLLATE</span><span style="color:#A6ACCD;"> utf8_bin ENGINE INNODB;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">//</span><span style="color:#A6ACCD;"> 插入数据</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">刘备</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">89</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">78</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">90</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张飞</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">67</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">98</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">56</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">宋江</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">60</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">67</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">关羽</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">87</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">88</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">97</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">欧阳锋</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">60</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">56</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">41</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (id,</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">,chinese,english,math) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">黄蓉</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">80</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">56</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">81</span><span style="color:#A6ACCD;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="_4-1-基本语法" tabindex="-1">4.1 基本语法 <a class="header-anchor" href="#_4-1-基本语法" aria-label="Permalink to &quot;4.1 基本语法&quot;">​</a></h3><blockquote><p>语法</p></blockquote><p><code>SELECT [DISTINCT] * | {column1, column2,column3...} From table_name;</code></p><ul><li><ol><li><code>select</code> ： 指定查询那些列的数据</li></ol></li><li><ol start="2"><li><code>column</code> : 指定列名</li></ol></li><li><ol start="3"><li><code>*</code> ： 代表所有列</li></ol></li><li><ol start="4"><li><code>FROM</code> : 指定查询那张表</li></ol></li><li><ol start="5"><li><code>DISTINCT</code> : 可选，指显示结果时，是否去掉重复数据。</li></ol></li></ul><blockquote><p>注意事项</p></blockquote><p>所有语法中的<code>[]</code>，<code>|</code>，<code>{}</code> 不是<code>SQL</code>语句中的一部分，只是我们用来写伪代码用的</p><blockquote><p>案例</p></blockquote><ul><li><ol><li>查询 student 表中的所有字段</li></ol></li></ul><p><code>SELECT * FROM student;</code></p><ul><li><ol start="2"><li>查询表中所有学生的姓名和对应的英语成绩</li></ol></li></ul><p><code>SELECT name , english FROM student;</code></p><ul><li><ol start="3"><li>要查询的记录，每个字段都相同，才会去重</li></ol></li></ul><p><code>SELECT DISTINCT name ,english FROM student;</code></p><h3 id="_4-2-使用表达式对查询的列进行运算" tabindex="-1">4.2 使用表达式对查询的列进行运算 <a class="header-anchor" href="#_4-2-使用表达式对查询的列进行运算" aria-label="Permalink to &quot;4.2 使用表达式对查询的列进行运算&quot;">​</a></h3><blockquote><p>语法</p></blockquote><p><code>SELECT * | {column1 | expression, column2|expression...} From table_name;</code></p><blockquote><p>案例</p></blockquote><ul><li><ol><li>查询学生的总分</li></ol></li></ul><p><code>SELECT name, (chinese + english + math) from student;</code></p><ul><li><ol start="2"><li>给所有学生的总分加 10 分</li></ol></li></ul><p><code>SELECT name, (chinese + english + math +10) from student;</code></p><ul><li><ol start="3"><li>给学生的每个课程加 10 分</li></ol></li></ul><p><code>SELECT name ,(chinese+10),(english+10),(math+10) from student;</code></p><h3 id="_4-3-在-select-中使用-as-语句" tabindex="-1">4.3 在 select 中使用 as 语句 <a class="header-anchor" href="#_4-3-在-select-中使用-as-语句" aria-label="Permalink to &quot;4.3 在 select 中使用 as 语句&quot;">​</a></h3><p>使用表达式对查询的列进行运算有一个缺点，那就是表达式会查询结果的一个新列名。我们可以使用<code>as</code>修改这个列名。</p><blockquote><p>语法</p></blockquote><p><code>SELECT columnname as 别名 From table_name;</code></p><blockquote><p>案例</p></blockquote><ul><li><ol><li>查询所有学生的总分，并修改列名</li></ol></li></ul><p><code>SELECT name as &#39;姓名&#39;, (chinese + english + math) as total from student;</code></p><h3 id="_4-4-使用-where-字句-进行过滤" tabindex="-1">4.4 使用 where 字句，进行过滤 <a class="header-anchor" href="#_4-4-使用-where-字句-进行过滤" aria-label="Permalink to &quot;4.4 使用 where 字句，进行过滤&quot;">​</a></h3><blockquote><p>where 字句中常用运算符</p></blockquote><img src="`+e+`"><blockquote><p>案例</p></blockquote><ul><li><ol><li>查询总分大于 200 的学生</li></ol></li></ul><p><code>SELECT id ,name from student WHERE (chinese + english + math) &gt; 200;</code></p><ul><li><ol start="2"><li>查询<code>math</code>在 80~100 的学生</li></ol></li></ul><p><code>SELECT id,name,math from student WHERE math BETWEEN 80 AND 100;</code></p><ul><li><ol start="3"><li>查询 <code>math</code>在集合 (90,81,97)的学生。</li></ol></li></ul><p><code>SELECT id,name,math from student WHERE math in (90,81,97);</code></p><ul><li><ol start="4"><li>查询 <code>name</code>字段含有字符<code>刘</code>的学生</li></ol></li></ul><p><code>SELECT * from student WHERE name like &quot;%刘%&quot;;</code></p><ul><li><ol start="5"><li>查询 <code>name</code>字段<strong>不含</strong>有字符<code>刘</code>的学生</li></ol></li></ul><p><code>SELECT * from student WHERE name NOT like &quot;%刘%&quot;;</code></p><ul><li><ol start="6"><li>查询姓名为空的学生</li></ol></li></ul><p><code>SELECT * from student WHERE name IS NULL;</code></p><ul><li><ol start="7"><li>查询<code>math</code>大于<code>80</code> 且<code>english</code>小于 <code>60</code>的学生</li></ol></li></ul><p><code>SELECT * from student WHERE math &gt; 80 and english &lt; 60;</code></p><ul><li>8 查询<code>english</code>大于<code>80</code> 或者 <code>math</code>大于<code>90</code>的学生</li></ul><p><code>SELECT * from student WHERE english&gt; 80 OR math &gt; 90;</code></p><ul><li><ol start="9"><li>查询<code>math</code> 大于等于<code>81</code>的学生</li></ol></li></ul><p><code>SELECT * from student WHERE NOT (math&lt;81)</code></p><h3 id="_4-5-使用-order-by-字句排序查询结果" tabindex="-1">4.5 使用 order by 字句排序查询结果 <a class="header-anchor" href="#_4-5-使用-order-by-字句排序查询结果" aria-label="Permalink to &quot;4.5 使用 order by 字句排序查询结果&quot;">​</a></h3><blockquote><p>语法</p></blockquote><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">SELEST column1，column2，column3...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> tab_name</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> column </span><span style="color:#F78C6C;">asc</span><span style="color:#A6ACCD;">|</span><span style="color:#F78C6C;">desc</span><span style="color:#A6ACCD;">,...</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>注意事项</p></blockquote><ul><li><ol><li><code>order by</code> :指定排序的列， 排序的列既可以是表中的列名，也可以是<code>select</code>语句后指定的列名。</li></ol></li><li><ol start="2"><li><code>ASC</code> 升序（默认），<code>DESC</code> 降序</li></ol></li><li><ol start="3"><li><code>order by</code>字句应位于<code>select</code>语句的结尾。</li></ol></li></ul><blockquote><p>案例</p></blockquote><ul><li>1.查询总分大于<code>250</code>的学生，并升序排序</li></ul><p><code>SELECT * from student WHERE (chinese+english+math) &gt; 250 ORDER BY math ASC</code></p><ul><li><ol><li>查询<code>name</code>字段包含字符串为<code>刘</code>的学生的总分，并按照<code>总分</code>升序排序</li></ol></li></ul><p><code>SELECT name,(chinese+english+math) as total from student WHERE name LIKE &quot;%刘%&quot; ORDER BY total ASC</code></p><h3 id="_4-6-使用-like-进行模糊查询" tabindex="-1">4.6 使用 like 进行模糊查询 <a class="header-anchor" href="#_4-6-使用-like-进行模糊查询" aria-label="Permalink to &quot;4.6 使用 like 进行模糊查询&quot;">​</a></h3><p>在<code>where like</code> 的条件查询中，<code>SQL</code>提供了*<em>四种</em>匹配方式*</p><ul><li><ol><li><code>%</code> : 表示 0 到多个任意字符</li></ol></li><li><ol start="2"><li><code>_</code> : 表示单个任意字符</li></ol></li><li><ol start="3"><li><code>[]</code>：表示括号内所列字符中的一个（类似正则表达式）。指定一个字符、字符串或范围，要求所匹配对象为它们中的任一个。</li></ol></li><li><ol start="4"><li><code>[^]</code>：表示不在括号所列之内的单个字符。其取值和 <code>[]</code> 相同，但它要求所匹配对象为指定字符以外的任一个字符。</li></ol></li><li><ol start="2"><li>案例</li></ol></li></ul><p>查询员工表中<code>name</code>字段以小写字母<code>t</code>开头的员工</p><p><code>SELECT name ,salary from empt WHERE name LIKE &#39;t%&#39;</code></p><p>查询员工表中<code>name</code>字段第三个字母为<code>s</code>的员工</p><p><code>SELECT name ,salary from empt WHERE name LIKE &#39;__s%&#39;</code></p><h3 id="_4-7-分页查询" tabindex="-1">4.7 分页查询 <a class="header-anchor" href="#_4-7-分页查询" aria-label="Permalink to &quot;4.7 分页查询&quot;">​</a></h3><ul><li><ol><li>基本语法 表示从<code>start+1</code> 行开始取，取出<code>rows</code>行，<code>start</code>从<code>0</code>开始计算</li></ol></li></ul><p><code>SELECT ... limt start,rows</code></p><ul><li><ol start="2"><li>案例</li></ol></li></ul><p>查询第一页</p><p><code>SELECT * FROM empt ORDER BY id LIMIT 0 ,3</code></p><p>查询第二页</p><p><code>SELECT * FROM empt ORDER BY id LIMIT 3,3</code></p><p>查询第三页</p><p><code>SELECT * FROM empt ORDER BY id LIMIT 6,3</code></p><p>根据上面可以推导出分页查询公式：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">SELECT</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">FROM</span></span>
<span class="line"><span style="color:#A6ACCD;">  empt </span><span style="color:#F78C6C;">ORDER BY</span><span style="color:#A6ACCD;"> id</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">LIMIT</span><span style="color:#A6ACCD;"> pagesize </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> (pagenum </span><span style="color:#89DDFF;">-</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> ) , pagesize</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>pagesize : 每页显示记录数</li><li>pagenum : 第几页</li></ul><h3 id="_4-8-group-by-子句" tabindex="-1">4.8 group by 子句 <a class="header-anchor" href="#_4-8-group-by-子句" aria-label="Permalink to &quot;4.8 group by 子句&quot;">​</a></h3><p>使用<code>group by</code> 子句对查询的结果分组统计，可以根据<strong>多个字段</strong>分组查询</p><h4 id="_4-8-1-语法" tabindex="-1">4.8.1 语法 <a class="header-anchor" href="#_4-8-1-语法" aria-label="Permalink to &quot;4.8.1 语法&quot;">​</a></h4><p><code>SELECT column1，column2，column3... FROM table_name GROUP BY column1 column2 ...</code></p><h4 id="_4-8-2-案例" tabindex="-1">4.8.2 案例 <a class="header-anchor" href="#_4-8-2-案例" aria-label="Permalink to &quot;4.8.2 案例&quot;">​</a></h4><ul><li><ol><li>显示每个性别的数学平均成绩和最高的数学成绩</li></ol></li></ul><p><code>SELECT avg(math),max(math), sex FROM student GROUP BY sex</code></p><ul><li><ol start="2"><li>显示每个部门的，每种岗位的平均工资和最高工资</li></ol></li></ul><p><code>SELECT avg(sal),max(sal), depto , job FROM emp GROUP BY depto , job</code></p><ul><li><ol start="3"><li>显示平均工资低于 2000 的部门号和它的平均工资</li></ol></li></ul><blockquote><p>思路：</p></blockquote><ul><li>显示各个部门的平均工资和部门号</li><li>在上面的基础上，进行过滤，保留 avg(sal) &lt; 2000</li></ul><p><code>select avg(sal) , depto from emp group by depto having avg(sal) &lt; 2000</code></p><p>也可以使用别名进行过滤</p><p><code>select avg(sal) as avg_sal, depto from emp group by depto having avg_sal &lt; 2000</code></p><h3 id="_4-9-分组统计之-having-字句" tabindex="-1">4.9 分组统计之 having 字句 <a class="header-anchor" href="#_4-9-分组统计之-having-字句" aria-label="Permalink to &quot;4.9 分组统计之 having 字句&quot;">​</a></h3><p>使用<code>having</code>字句对分组后的结果进行过滤。一般配合<code>group by</code>使用</p><h4 id="_4-9-1-语法" tabindex="-1">4.9.1 语法 <a class="header-anchor" href="#_4-9-1-语法" aria-label="Permalink to &quot;4.9.1 语法&quot;">​</a></h4><p><code>column1，column2，column3... FROM table_name GROUP BY column having ...</code></p><h3 id="_4-10-多子句查询执行顺序" tabindex="-1">4.10 多子句查询执行顺序 <a class="header-anchor" href="#_4-10-多子句查询执行顺序" aria-label="Permalink to &quot;4.10 多子句查询执行顺序&quot;">​</a></h3><p>如果<code>select</code>语句同时包含有<code>group by</code>，<code>having</code>，<code>limit</code> ，<code>order by</code> 那么他们的执行顺序是</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> column1, column2, column3... </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> table_name</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> column</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">having</span><span style="color:#A6ACCD;"> condition</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> column</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">start</span><span style="color:#A6ACCD;">，</span><span style="color:#F78C6C;">rows</span><span style="color:#A6ACCD;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><ol><li>案例</li></ol></li></ul><p>统计各个部门的平均工资，并且是大于 1000 的，并且按照平均工资从高到低排序，并取出前两行的记录</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> deptno, </span><span style="color:#82AAFF;">avg</span><span style="color:#A6ACCD;">(sal) </span><span style="color:#F78C6C;">as</span><span style="color:#A6ACCD;"> avg_sal </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;">  empt</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">GROUP BY</span><span style="color:#A6ACCD;"> depto</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">having</span><span style="color:#A6ACCD;"> avg_sal </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">order by</span><span style="color:#A6ACCD;"> avg_sal </span><span style="color:#F78C6C;">DESC</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">limit</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> , </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,141),c=[p];function t(r,i,C,d,u,A){return s(),o("div",null,c)}const D=l(n,[["render",t]]);export{m as __pageData,D as default};
