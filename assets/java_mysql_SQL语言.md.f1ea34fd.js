import{_ as s,o as a,c as n,V as l}from"./chunks/framework.364d6ed5.js";const d=JSON.parse('{"title":"SQL 语言","description":"","frontmatter":{},"headers":[],"relativePath":"java/mysql/SQL语言.md","filePath":"java/mysql/SQL语言.md","lastUpdated":1705322256000}'),p={name:"java/mysql/SQL语言.md"},e=l(`<h1 id="sql-语言" tabindex="-1">SQL 语言 <a class="header-anchor" href="#sql-语言" aria-label="Permalink to &quot;SQL 语言&quot;">​</a></h1><h2 id="_1-前言" tabindex="-1">1. 前言 <a class="header-anchor" href="#_1-前言" aria-label="Permalink to &quot;1. 前言&quot;">​</a></h2><p><code>SQL</code>程序语言有<strong>四种</strong>类型，对数据库的操作都属于这<strong>四类</strong>，它们分别是：数据定义语言(<code>DDL</code>)，数据查询语言(<code>DQL</code>)，数据操纵语言(<code>DML</code>)，数据控制语言(<code>DCL</code>)。</p><h2 id="_2-数据定义语言-ddl" tabindex="-1">2. 数据定义语言（DDL） <a class="header-anchor" href="#_2-数据定义语言-ddl" aria-label="Permalink to &quot;2. 数据定义语言（DDL）&quot;">​</a></h2><p><code>DDL</code>全称是<code>Data Definition Language</code>，即数据定义语言，定义语言就是定义关系模式、删除关系、修改关系模式以及创建数据库中的各种对象，比如表、聚簇、索引、视图、函数、存储过程和触发器等等。</p><p>数据定义语言是由<code>SQL</code>语言集中负责数据结构定义与数据库对象定义的语言，并且由<code>CREATE</code>、<code>ALTER</code>、<code>DROP</code>和<code>TRUNCATE</code>四个语法组成。比如：</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">-- 创建学生表</span></span>
<span class="line"><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">student</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    id </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">identity</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">not null</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">null</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    course </span><span style="color:#C792EA;">varchar</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">null</span><span style="color:#A6ACCD;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    grade </span><span style="color:#C792EA;">numeric</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--student表增加一个年龄字段</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> student </span><span style="color:#F78C6C;">add</span><span style="color:#A6ACCD;"> age </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">NULL</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--student表删除年龄字段，删除的字段前面需要加column</span></span>
<span class="line"><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> student </span><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> Column age</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--删除表</span></span>
<span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> student </span><span style="color:#676E95;font-style:italic;">--删除表的数据和表的结构</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--清空表的数据，，但并不删除表的结构，student表还在只是数据为空</span></span>
<span class="line"><span style="color:#F78C6C;">truncate</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">table</span><span style="color:#A6ACCD;"> student</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_2-数据操纵语言-dml" tabindex="-1">2. 数据操纵语言(DML) <a class="header-anchor" href="#_2-数据操纵语言-dml" aria-label="Permalink to &quot;2. 数据操纵语言(DML)&quot;">​</a></h2><p>数据操纵语言全称是<code>Data Manipulation Language</code>，主要是进行插入元组、删除元组、修改元组的操作。主要有<code>insert</code>、<code>update</code>、<code>delete</code>语法组成。</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">--向student表中插入数据</span></span>
<span class="line"><span style="color:#F78C6C;">INSERT INTO</span><span style="color:#A6ACCD;"> student (</span><span style="color:#F78C6C;">name</span><span style="color:#A6ACCD;">, course,grade) </span><span style="color:#F78C6C;">VALUES</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    (</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张飞</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">语文</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">90</span><span style="color:#A6ACCD;">),(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">刘备</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">数学</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">70</span><span style="color:#A6ACCD;">),(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">关羽</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">历史</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">25</span><span style="color:#A6ACCD;">),(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张云</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">英语</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">13</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--更新student表数据</span></span>
<span class="line"><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;"> student </span><span style="color:#F78C6C;">set</span><span style="color:#A6ACCD;"> grade</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">18</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">关羽</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- 删除表数据</span></span>
<span class="line"><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">关羽</span><span style="color:#89DDFF;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_3-数据查询语言-dql" tabindex="-1">3. 数据查询语言(DQL) <a class="header-anchor" href="#_3-数据查询语言-dql" aria-label="Permalink to &quot;3. 数据查询语言(DQL)&quot;">​</a></h2><p>数据查询语言全称是<code>Data Query Language</code>，所以是用来进行数据库中数据的查询的，即最常用的<code>select</code>语句</p><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">--从student表中查询所有的数据</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--从student表中查询姓名为张飞的学生</span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">from</span><span style="color:#A6ACCD;"> student </span><span style="color:#F78C6C;">where</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">张飞</span><span style="color:#89DDFF;">&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_4-数据控制语言-dcl" tabindex="-1">4.数据控制语言(DCL) <a class="header-anchor" href="#_4-数据控制语言-dcl" aria-label="Permalink to &quot;4.数据控制语言(DCL)&quot;">​</a></h2><p>数据控制语言：<code>Data Control Language</code>。用来授权或回收访问数据库的某种特权，并控制数据库操纵事务发生的时间及效果，能够对数据库进行监视。由 <code>GRANT</code> 和 <code>REVOKE</code> 两个指令组成</p><p>比如常见的授权、取消授权、回滚、提交等等操作。</p><h3 id="_1-给用户授权" tabindex="-1">1. 给用户授权 <a class="header-anchor" href="#_1-给用户授权" aria-label="Permalink to &quot;1. 给用户授权&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">GRANT</span><span style="color:#A6ACCD;"> 权限1, … , 权限n </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> 数据库.对象  </span><span style="color:#F78C6C;">TO</span><span style="color:#A6ACCD;"> 用户名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--将test数据库中所有对象(表、视图、存储过程，触发器等。*表示所有对象)的</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">-- create,alter,drop,insert,update,delete,select赋给testuser用户</span></span>
<span class="line"><span style="color:#F78C6C;">grant</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">create</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">alter</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">drop</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">insert</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">update</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">delete</span><span style="color:#A6ACCD;">,</span><span style="color:#F78C6C;">select</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">on</span><span style="color:#A6ACCD;"> test.</span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">to</span><span style="color:#A6ACCD;"> testuser@localhost;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_2-撤销授权" tabindex="-1">2. 撤销授权 <a class="header-anchor" href="#_2-撤销授权" aria-label="Permalink to &quot;2. 撤销授权&quot;">​</a></h3><div class="language-sql line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">REVOKE权限1, … , 权限n </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> 数据库.对象 FORM 用户名;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">--收回用户对某个数据库的某个表的插入、更新、删除的权限</span></span>
<span class="line"><span style="color:#F78C6C;">REVOKE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">INSERT</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">UPDATE</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">DELETE</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">ON</span><span style="color:#A6ACCD;"> database_name.table_name </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">FROM</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user_name</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">@</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">host</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,20),o=[e];function t(c,r,C,y,i,D){return a(),n("div",null,o)}const F=s(p,[["render",t]]);export{d as __pageData,F as default};
